<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My VAST Ads Player (Vercel Test)</title>
    <style>
        body { font-family: Arial, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; background-color: #f0f0f0; margin: 0; flex-direction: column; }
        .player-container { width: 80%; max-width: 640px; border: 1px solid #ccc; box-shadow: 2px 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
        #my-video-player { width: 100%; height: auto; display: block; background-color: black; }
        h1 { color: #333; }
        .description { margin-top: 20px; text-align: center; color: #555; }
    </style>
</head>
<body>

    <h1>My VAST Video Ad Player</h1>
    <div class="player-container">
        <video id="my-video-player" controls preload="auto" poster="https://via.placeholder.com/640x360?text=Video+Player">
            <source src="https://test-videos.co.uk/vids/bigbuckbunny/mp4/720/big_buck_bunny_720p_1mb.mp4" type="video/mp4">
            আপনার ব্রাউজার ভিডিও ট্যাগ সমর্থন করে না।
        </video>
    </div>
    <p class="description">
        এই প্লেয়ারটি VAST অ্যাড কন্টেন্ট লোড করার চেষ্টা করবে।
    </p>

    <script src="https://unpkg.com/@glomex/vast-ima-player@latest/dist/glomex-vast-ima-player.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const videoElement = document.getElementById('my-video-player');

            // VAST Ad Tag URL (এখানে আপনার VAST Ad Tag লিঙ্কটি দিন)
            // এটি Google-এর একটি স্যাম্পল VAST Tag
            const vastAdTagUrl = 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=sample_ct%3Dlinear&correlator=';

            // vast-ima-player ইনিশিয়ালাইজ করুন
            if (window.GlomexVastImaPlayer) {
                const player = new GlomexVastImaPlayer(videoElement, {
                    adTagUrl: vastAdTagUrl,
                    // অন্যান্য বিকল্প যোগ করতে পারেন, যেমন:
                    // locale: 'en',
                    // debug: true,
                });

                // প্লেয়ার লোড হওয়ার পর অ্যাড লোড করতে পারেন
                videoElement.addEventListener('loadedmetadata', () => {
                    console.log('Video metadata loaded. Attempting to load ads...');
                    player.loadAds(); // অ্যাড লোড করার জন্য কল করুন
                });

                // বিভিন্ন ইভেন্ট হ্যান্ডেল করতে পারেন (ঐচ্ছিক)
                player.on('adError', (error) => {
                    console.error('Ad Error:', error);
                    alert('বিজ্ঞাপন লোড হতে ব্যর্থ হয়েছে: ' + error.message);
                });

                player.on('adLoaded', () => {
                    console.log('Ad loaded successfully.');
                });

                player.on('adStarted', () => {
                    console.log('Ad started playing.');
                });

                console.log('GlomexVastImaPlayer initialized.');

            } else {
                console.error('GlomexVastImaPlayer library not found.');
                alert('বিজ্ঞাপন প্লেয়ার লাইব্রেরি লোড হয়নি।');
            }
        });
    </script>

</body>
</html>
